# The file formally known as seppuku.yml
system_domain: (( properties.system_domain ))
# Using an array index is dangerous.  Consider using an Ops file for this.
uaa_scim_users_admin_password:  (( properties.uaa.scim.users.[0].password ))
consul_encrypt_key: (( properties.consul.encrypt_keys.[0] ))
blobstore_admin_users_username: (( properties.blobstore.admin_users.[0].username ))
blobstore_admin_users_password: (( properties.blobstore.admin_users.[0].password ))
blobstore_secure_link_secret: (( properties.blobstore.secure_link.secret ))
blobstore_tls:
  ca: (( properties.blobstore.tls.ca_cert ))
  certificate: (( properties.blobstore.tls.cert ))
  private_key: (( properties.blobstore.tls.key ))
cc_bridge_cc_uploader:
  ca: (( properties.capi.cc_uploader.cc.ca_cert ))
  certificate: (( properties.capi.cc_uploader.cc.client_cert ))
  private_key: (( properties.capi.cc_uploader.cc.client_key ))
cc_bridge_tps:
  ca: (( properties.capi.tps.cc.ca_cert ))
  client_cert:  (( properties.capi.tps.cc.client_cert ))
  client_key:  (( properties.capi.tps.cc.client_key ))
cc_bulk_api_password: (( properties.cc.bulk_api_password ))
cc_database_password: (( properties.ccdb.roles.[0].password ))
cc_database_username: (( properties.ccdb.roles.[0].name ))


properties:
  system_domain: (( merge ))
  uaa:
    scim:
      users: (( merge ))
  consul:
    encrypt_keys: (( merge ))
  blobstore:
    admin_users: (( merge ))
    secure_link:
      secret: (( merge ))
    tls:
      ca_cert: (( merge ))
      cert: (( merge ))
      key: (( merge ))
  capi:
    cc_uploader:
      cc:
        ca_cert: (( merge ))
        client_cert: (( merge ))
        client_key: (( merge ))
    tps:
      cc:
        ca_cert: (( merge ))
        client_cert: (( merge ))
        client_key: (( merge ))
  cc:
    bulk_api_password: (( merge ))
  ccdb:
    roles: (( merge ))

