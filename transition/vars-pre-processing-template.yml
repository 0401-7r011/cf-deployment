# The file formally known as seppuku.yml
system_domain: (( properties.system_domain ))
# Using an array index is dangerous.  Consider using an Ops file for this.
uaa_scim_users_admin_password:  (( properties.uaa.scim.users.[0].password ))
consul_encrypt_key: (( properties.consul.encrypt_keys.[0] ))
blobstore_admin_users_username: (( properties.blobstore.admin_users.[0].username ))
blobstore_admin_users_password: (( properties.blobstore.admin_users.[0].password ))
blobstore_secure_link_secret: (( properties.blobstore.secure_link.secret ))
blobstore_tls:
  ca: (( properties.blobstore.tls.ca_cert ))
  certificate: (( properties.blobstore.tls.cert ))
  private_key: (( properties.blobstore.tls.key ))
cc_bridge_cc_uploader:
  ca: (( properties.capi.cc_uploader.cc.ca_cert ))
  certificate: (( properties.capi.cc_uploader.cc.client_cert ))
  private_key: (( properties.capi.cc_uploader.cc.client_key ))
cc_bridge_tps:
  ca: (( properties.capi.tps.cc.ca_cert ))
  client_cert:  (( properties.capi.tps.cc.client_cert ))
  client_key:  (( properties.capi.tps.cc.client_key ))
cc_bulk_api_password: (( properties.cc.bulk_api_password ))
cc_database_password: (( properties.ccdb.roles.[0].password ))
cc_database_username: (( properties.ccdb.roles.[0].name ))
cc_db_encryption_key: (( properties.cc.db_encryption_key ))
cc_internal_api_password: (( properties.cc.internal_api_password ))
cc_staging_upload_password: (( properties.cc.staging_upload_password ))
cc_tls:
  ca: (( properties.cc.mutual_tls.ca_cert ))
  certificate: (( properties.cc.mutual_tls.public_cert ))
  private_key: (( properties.cc.mutual_tls.private_key ))
consul_agent:
  ca: (( properties.consul.ca_cert ))
  certificate: (( properties.consul.agent_cert ))
  private_key: (( properties.consul.agent_key ))
consul_agent_ca:
  ca: (( properties.consul.ca_cert ))
  certificate: (( properties.consul.ca_cert ))
consul_server:
  ca: (( properties.consul.ca_cert ))
  certificate: (( properties.consul.server_cert ))
  private_key: (( properties.consul.server_key ))
diego_auctioneer_client:
  ca: (( properties.diego.bbs.auctioneer.ca_cert ))
  certificate: (( properties.diego.bbs.auctioneer.client_cert ))
  private_key: (( properties.diego.bbs.auctioneer.client_key ))


properties:
  system_domain: (( merge ))
  uaa:
    scim:
      users: (( merge ))
  consul:
    ca_cert: (( merge ))
    agent_cert: (( merge ))
    agent_key: (( merge ))
    server_cert: (( merge ))
    server_key: (( merge ))
    encrypt_keys: (( merge ))
  blobstore:
    admin_users: (( merge ))
    secure_link:
      secret: (( merge ))
    tls:
      ca_cert: (( merge ))
      cert: (( merge ))
      key: (( merge ))
  capi:
    cc_uploader:
      cc:
        ca_cert: (( merge ))
        client_cert: (( merge ))
        client_key: (( merge ))
    tps:
      cc:
        ca_cert: (( merge ))
        client_cert: (( merge ))
        client_key: (( merge ))
  cc:
    bulk_api_password: (( merge ))
    db_encryption_key: (( merge ))
    internal_api_password: (( merge ))
    staging_upload_password: (( merge ))
    mutual_tls:
      ca_cert: (( merge ))
      public_cert: (( merge ))
      private_key: (( merge ))
  ccdb:
    roles: (( merge ))
  diego:
    bbs:
      auctioneer: (( merge ))
