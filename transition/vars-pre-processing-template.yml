# The file formally known as seppuku.yml
system_domain: (( properties.system_domain ))
# Using an array index is dangerous.  Consider using an Ops file for this.
uaa_scim_users_admin_password:  (( properties.uaa.scim.users.[0].password ))
consul_encrypt_key: (( properties.consul.encrypt_keys.[0] ))
blobstore_admin_users_username: (( properties.blobstore.admin_users.[0].username ))
blobstore_admin_users_password: (( properties.blobstore.admin_users.[0].password ))
blobstore_secure_link_secret: (( properties.blobstore.secure_link.secret ))
blobstore_tls:
  ca: (( properties.blobstore.tls.ca_cert ))
  certificate: (( properties.blobstore.tls.cert ))
  private_key: (( properties.blobstore.tls.key ))
cc_bridge_cc_uploader:
  ca: (( properties.capi.cc_uploader.cc.ca_cert ))
  certificate: (( properties.capi.cc_uploader.cc.client_cert ))
  private_key: (( properties.capi.cc_uploader.cc.client_key ))
cc_bridge_tps:
  ca: (( properties.capi.tps.cc.ca_cert ))
  client_cert:  (( properties.capi.tps.cc.client_cert ))
  client_key:  (( properties.capi.tps.cc.client_key ))
cc_bulk_api_password: (( properties.cc.bulk_api_password ))
cc_database_password: (( properties.ccdb.roles.[0].password ))
cc_database_username: (( properties.ccdb.roles.[0].name ))
cc_db_encryption_key: (( properties.cc.db_encryption_key ))
cc_internal_api_password: (( properties.cc.internal_api_password ))
cc_staging_upload_password: (( properties.cc.staging_upload_password ))
cc_tls:
  ca: (( properties.cc.mutual_tls.ca_cert ))
  certificate: (( properties.cc.mutual_tls.public_cert ))
  private_key: (( properties.cc.mutual_tls.private_key ))
consul_agent:
  ca: (( properties.consul.ca_cert ))
  certificate: (( properties.consul.agent_cert ))
  private_key: (( properties.consul.agent_key ))
consul_agent_ca:
  ca: (( properties.consul.ca_cert ))
  certificate: (( properties.consul.ca_cert ))
consul_server:
  ca: (( properties.consul.ca_cert ))
  certificate: (( properties.consul.server_cert ))
  private_key: (( properties.consul.server_key ))
diego_auctioneer_client:
  ca: (( properties.diego.bbs.auctioneer.ca_cert ))
  certificate: (( properties.diego.bbs.auctioneer.client_cert ))
  private_key: (( properties.diego.bbs.auctioneer.client_key ))
diego_auctioneer_server:
  ca: (( properties.diego.bbs.auctioneer.ca_cert ))
  certificate: (( properties.diego.bbs.auctioneer.server_cert ))
  private_key: (( properties.diego.bbs.auctioneer.server_key ))
diego_bbs_client:
  ca: (( properties.diego.bbs.ca_cert ))
  certificate: (( properties.diego.bbs.client_cert ))
  private_key: (( properties.diego.bbs.client_key ))
diego_bbs_encryption_keys_passphrase: (( properties.diego.bbs.encryption_keys.[0].passphrase ))
diego_bbs_server:
  ca: (( properties.diego.bbs.ca_cert ))
  certificate: (( properties.diego.bbs.server_cert ))
  private_key: (( properties.diego.bbs.server_key ))
diego_database_password: (( properties.diego.bbs.sql.db_password ))
diego_rep_agent:
  ca: (( properties.diego.rep.ca_cert ))
  certificate: (( properties.diego.rep.server_cert ))
  private_key: (( properties.diego.rep.server_key ))
diego_rep_client:
  ca: (( properties.diego.rep.ca_cert ))
  certificate: (( properties.diego.rep.client_cert ))
  private_key: (( properties.diego.rep.client_key ))
diego_ssh_proxy_host_key:
  private_key: (( properties.diego.ssh_proxy.host_key ))
  public_key_fingerprint: (( properties.app_ssh.host_key_fingerprint ))
dropsonde_shared_secret: (( properties.doppler_endpoint.shared_secret ))
etcd_ca:
  ca: (( properties.etcd.ca_cert ))
etcd_client:
  ca: (( properties.etcd.ca_cert ))
  certificate: (( properties.etcd.client_cert ))
  private_key: (( properties.etcd.client_key ))
etcd_peer:
  ca: (( properties.etcd.peer_ca_cert ))
  certificate: (( properties.etcd.peer_cert ))
  private_key: (( properties.etcd.peer_key ))
etcd_peer_ca:
  ca: (( properties.etcd.peer_ca_cert ))
etcd_server:
  ca: (( properties.etcd.ca_cert ))
  certificate: (( properties.etcd.server_cert ))
  private_key: (( properties.etcd.server_key ))
loggregator_ca:
  ca: (( properties.loggregator.tls.ca_cert ))
  certificate: ''
  private_key: ''
loggregator_tls_doppler:
  ca: (( properties.loggregator.tls.ca_cert ))
  certificate: (( properties.loggregator.tls.doppler.cert ))
  private_key: (( properties.loggregator.tls.doppler.key ))
loggregator_tls_metron:
  ca: (( properties.loggregator.tls.ca_cert ))
  certificate: (( properties.loggregator.tls.metron.cert ))
  private_key: (( properties.loggregator.tls.metron.key ))
loggregator_tls_statsdinjector:
  ca: (( properties.loggregator.tls.ca_cert ))
  certificate: (( properties.loggregator.tls.statsd_injector.cert ))
  private_key: (( properties.loggregator.tls.statsd_injector.key ))
loggregator_tls_syslogdrainbinder:
  ca: (( properties.loggregator.tls.ca_cert ))
  certificate: (( properties.loggregator.tls.syslogdrainbinder.cert ))
  private_key: (( properties.loggregator.tls.syslogdrainbinder.key ))
loggregator_tls_tc:
  ca: (( properties.loggregator.tls.ca_cert ))
  certificate: (( properties.loggregator.tls.trafficcontroller.cert ))
  private_key: (( properties.loggregator.tls.trafficcontroller.key ))
nats_password: (( properties.nats.password ))
router_route_services_secret: (( properties.router.route_services_secret ))
router_ssl:
  certificate: (( properties.router.ssl_cert ))
  private_key: (( properties.router.ssl_key ))
router_status_password: (( properties.router.status.password ))
service_cf_internal_ca:
  ca: (( properties.blobstore.tls.ca_cert))
  certificate: (( properties.blobstore.tls.ca_cert))
  private_key: (( properties.blobstore.tls.ca_cert))

properties:
  app_ssh: (( merge ))
  etcd: (( merge ))
  system_domain: (( merge ))
  uaa:
    scim:
      users: (( merge ))
  consul:
    ca_cert: (( merge ))
    agent_cert: (( merge ))
    agent_key: (( merge ))
    server_cert: (( merge ))
    server_key: (( merge ))
    encrypt_keys: (( merge ))
  blobstore:
    admin_users: (( merge ))
    secure_link:
      secret: (( merge ))
    tls:
      ca_cert: (( merge ))
      cert: (( merge ))
      key: (( merge ))
  capi:
    cc_uploader:
      cc:
        ca_cert: (( merge ))
        client_cert: (( merge ))
        client_key: (( merge ))
    tps:
      cc:
        ca_cert: (( merge ))
        client_cert: (( merge ))
        client_key: (( merge ))
  cc:
    bulk_api_password: (( merge ))
    db_encryption_key: (( merge ))
    internal_api_password: (( merge ))
    staging_upload_password: (( merge ))
    mutual_tls:
      ca_cert: (( merge ))
      public_cert: (( merge ))
      private_key: (( merge ))
  ccdb:
    roles: (( merge ))
  diego:
    bbs: (( merge ))
    rep: (( merge ))
    ssh_proxy: (( merge ))
  doppler_endpoint:
    shared_secret: (( merge ))
  loggregator:
    tls: (( merge ))
  nats:
    password: (( merge ))
  router: (( merge ))
